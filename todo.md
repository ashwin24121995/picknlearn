# Pick N Learn - Project TODO

## Core Infrastructure
- [x] Premium dark theme with CSS variables
- [x] Custom animations and transitions
- [x] Glass-morphism effects
- [x] Responsive layout system
- [x] Navigation structure
- [x] Database schema setup

## Database Schema
- [x] Lessons table with categories and content
- [x] Quizzes table with questions and answers
- [x] User progress tracking table
- [x] Glossary terms table
- [x] Tutorial steps table
- [x] User achievements table

## Learning Curriculum (20+ Lessons)
- [ ] Lesson 1: Introduction to Fantasy Cricket
- [ ] Lesson 2: Understanding Contest Types (H2H, 50/50, GPP)
- [ ] Lesson 3: Player Roles and Positions
- [ ] Lesson 4: Batting Order Strategies
- [ ] Lesson 5: Bowling Roles and Types
- [ ] Lesson 6: All-Rounders Value Analysis
- [ ] Lesson 7: Fantasy Scoring Systems
- [ ] Lesson 8: Points Calculation Methods
- [ ] Lesson 9: Bonus Points and Penalties
- [ ] Lesson 10: Budget Management
- [ ] Lesson 11: Team Balance Strategies
- [ ] Lesson 12: Captain and Vice-Captain Selection
- [ ] Lesson 13: Pitch and Weather Analysis
- [ ] Lesson 14: Recent Form Analysis
- [ ] Lesson 15: Head-to-Head Statistics
- [ ] Lesson 16: Expected Value (EV) Concepts
- [ ] Lesson 17: Correlation and Leverage
- [ ] Lesson 18: Contest-Specific Strategies
- [ ] Lesson 19: Late Swap Strategies
- [ ] Lesson 20: Multi-Entry Strategies
- [ ] Lesson 21: Bankroll Management
- [ ] Lesson 22: Advanced Analytics and Tools

## Interactive Quiz System
- [ ] Multiple choice questions
- [ ] True/False questions
- [ ] Scenario-based questions
- [ ] Instant feedback system
- [ ] Detailed explanations
- [ ] Progress tracking
- [ ] Quiz categories by topic
- [ ] Difficulty levels
- [ ] Score calculation
- [ ] Quiz history

## Glossary System (50+ Terms)
- [ ] Searchable glossary interface
- [ ] Category filtering
- [ ] Alphabetical sorting
- [ ] Term definitions with examples
- [ ] Related terms linking
- [ ] Glossary categories setup

## Tutorial System
- [ ] Step-by-step tutorial interface
- [ ] Visual examples and diagrams
- [ ] Interactive practice exercises
- [ ] Progress indicators
- [ ] Tutorial categories
- [ ] Completion tracking

## User Features
- [ ] User authentication integration
- [ ] Progress tracking (local storage)
- [ ] Progress tracking (database for auth users)
- [ ] Achievement system
- [ ] User dashboard
- [ ] Learning statistics
- [ ] Bookmarking system

## Pages

- [x] Home page with hero section
- [x] Education Hub (lessons overview)
- [x] Lesson detail pages
- [x] Quizzes page
- [x] Quiz detail pages
- [x] Glossary page
- [ ] Tutorials page
- [ ] Tutorial detail pages
- [ ] Fair Play page
- [ ] Compliance page
- [x] About page
- [ ] Contact page
- [ ] Privacy Policy page
- [ ] Terms of Service page
- [ ] User Dashboard (for authenticated users)

## UI Components
- [x] Premium navigation header
- [x] Mobile drawer menu
- [x] Footer with links
- [ ] Lesson card component
- [ ] Quiz card component
- [ ] Progress bar component
- [ ] Achievement badge component
- [ ] Search component
- [ ] Filter component
- [ ] Breadcrumb navigation

## Performance Optimizations
- [ ] Lazy loading for images
- [ ] Code splitting by route
- [ ] Component lazy loading
- [ ] Caching strategies
- [ ] Image optimization
- [ ] Bundle size optimization

## Deployment
- [ ] GitHub repository setup
- [ ] README documentation
- [ ] Environment variables configuration
- [ ] Railway deployment configuration
- [ ] Auto-update from GitHub
- [ ] Production build testing

## Testing & QA
- [x] API endpoint testing (vitest)
- [x] Lessons API tests (5 tests passing)
- [x] Quizzes API tests (5 tests passing)
- [x] Glossary API tests (7 tests passing)
- [x] Auth API tests (1 test passing)
- [ ] Mobile responsiveness testing
- [ ] Tablet responsiveness testing
- [ ] Desktop responsiveness testing
- [ ] Cross-browser testing
- [ ] Performance testing
- [ ] Accessibility testing
- [ ] User flow testing


## Visual Enhancements (NEW)
- [ ] Search and download cricket images (hero, players, stadiums)
- [ ] Add hero background images to Home page
- [ ] Add lesson thumbnail images
- [ ] Add player analysis visual examples
- [ ] Create strategy diagrams and infographics
- [ ] Add quiz result visualizations
- [ ] Add glossary term illustrations
- [ ] Optimize all images to WebP format

## Content Depth Enhancements (NEW)
- [ ] Expand Lesson 1 with real match examples
- [ ] Expand Lesson 2 with player statistics
- [ ] Expand Lesson 3 with scoring breakdowns
- [ ] Expand Lesson 4 with contest comparisons
- [ ] Expand Lesson 5 with form analysis charts
- [ ] Expand Lesson 6 with bonus calculation examples
- [ ] Add 16+ more comprehensive lessons
- [ ] Add real player case studies
- [ ] Add statistical analysis sections
- [ ] Add visual strategy breakdowns

## Additional Lessons to Create
- [ ] Lesson 7: Budget Management Strategies
- [ ] Lesson 8: Team Balance and Composition
- [ ] Lesson 9: Captain and Vice-Captain Selection
- [ ] Lesson 10: Pitch and Weather Analysis
- [ ] Lesson 11: Head-to-Head Statistics
- [ ] Lesson 12: Expected Value (EV) Concepts
- [ ] Lesson 13: Correlation and Leverage
- [ ] Lesson 14: Contest-Specific Strategies
- [ ] Lesson 15: Late Swap Strategies
- [ ] Lesson 16: Multi-Entry Strategies
- [ ] Lesson 17: Bankroll Management
- [ ] Lesson 18: Advanced Analytics and Tools
- [ ] Lesson 19: Tournament Selection
- [ ] Lesson 20: Risk Management
- [ ] Lesson 21: Game Theory in Fantasy Cricket
- [ ] Lesson 22: Professional Player Insights

## Enhanced Quiz System
- [ ] Add 5+ more quizzes
- [ ] Add scenario-based questions with images
- [ ] Add detailed explanations with visuals
- [ ] Add progress charts and analytics

## Enhanced Glossary
- [ ] Add 35+ more terms (total 50+)
- [ ] Add visual examples for each term
- [ ] Add related strategy links
- [ ] Add term usage in real scenarios


## CSS-Based Visual Components (NEW PRIORITY)
- [x] Create ScoringSystemCard component with CSS
- [x] Create PlayerRolesGrid component with CSS
- [ ] Create CaptainSelectionFlowchart component with CSS
- [x] Create BudgetAllocationChart component with CSS
- [ ] Create TeamCompositionGuide component with CSS
- [ ] Create PitchTypesComparison component with CSS
- [ ] Create FormAnalysisChart component with CSS
- [ ] Create ContestTypesComparison component with CSS
- [ ] Add animations and hover effects to all components
- [ ] Make all components fully responsive


## NEW FEATURES - Content Expansion & User Dashboard

### Additional Lessons (10-15 lessons)
- [ ] Lesson: Advanced Captain Selection Strategies
- [ ] Lesson: Multi-Entry Tournament Tactics
- [ ] Lesson: Bankroll Management for Fantasy Cricket
- [ ] Lesson: Weather and Dew Factor Analysis
- [ ] Lesson: Toss Impact and Batting Order Strategy
- [ ] Lesson: Player Ownership and Leverage Theory
- [ ] Lesson: Contest Selection Strategy (H2H vs GPP)
- [ ] Lesson: Late Swap and Last-Minute Changes
- [ ] Lesson: Analyzing Team Combinations
- [ ] Lesson: Budget Optimization Techniques
- [ ] Lesson: Form vs Reputation - When to Fade Stars
- [ ] Lesson: Venue-Specific Player Selection
- [ ] Lesson: Death Overs Specialists
- [ ] Lesson: Powerplay Strategy
- [ ] Lesson: Building Multiple Lineups

### User Dashboard
- [x] Dashboard page layout and navigation
- [x] Progress tracking - lessons completed
- [x] Progress tracking - quiz scores and history
- [x] Achievements and badges system
- [x] Bookmark functionality for lessons
- [x] Bookmark functionality for glossary terms
- [x] User statistics and analytics
- [x] Recent activity feed
- [x] Learning streak tracker
- [ ] Personalized recommendations (future enhancement)

### Database Schema Updates
- [x] User progress table for lesson completion
- [x] Quiz attempts history table (already existed)
- [x] Achievements table
- [x] User achievements junction table
- [x] Bookmarks table for lessons and terms
- [x] User statistics table

### API Endpoints (tRPC)
- [x] Progress tracking procedures
- [x] Achievements procedures
- [x] Bookmarks procedures
- [x] Dashboard data aggregation procedures

### Testing
- [ ] Tests for progress tracking
- [ ] Tests for achievements system
- [ ] Tests for bookmarks functionality
- [ ] Tests for dashboard data aggregation


## Home Page Enhancement (NEW)
- [x] Comprehensive hero section with detailed value proposition
- [x] Features showcase with 6 detailed feature cards
- [x] How it works section with step-by-step process
- [x] Statistics and achievements section
- [x] Learning paths overview (3 paths)
- [x] FAQ section with 6 common questions
- [x] Call-to-action sections throughout
- [x] Professional footer with links


## Page Enhancements (ALL PAGES)
- [ ] Lessons page - Add filtering, sorting, category tabs, progress indicators
- [ ] Lesson Detail page - Add bookmark button, mark complete, related lessons, visual components integration
- [ ] Quizzes page - Enhanced layout with detailed descriptions, difficulty indicators, completion status
- [ ] Quiz Detail page - Better question UI, explanations, results summary, retry functionality
- [ ] Glossary page - Advanced search, category filtering, related terms, examples
- [ ] About page - Comprehensive mission, team, features, testimonials, contact
- [ ] Dashboard page - Additional widgets, charts, recent activity, recommendations


## New Pages Required
- [ ] Responsible Learning page - Healthy learning habits, time management, avoiding burnout, responsible gaming
- [ ] Add Responsible Learning link to footer
- [ ] Create comprehensive content for Responsible Learning page


## Legal Pages & Disclaimers (PRIORITY)
- [x] Create Terms & Conditions page with comprehensive terms
- [x] Create Privacy Policy page with detailed privacy information
- [x] Create Responsible Learning page with guidelines
- [x] Update footer with 18+ age disclaimer
- [x] Add state restrictions (Assam, Odisha, Telangana, Andhra Pradesh, Sikkim, Nagaland)
- [x] Add links to Terms, Privacy, Responsible Learning in footer
- [x] Ensure navigation and footer appear on ALL pages
- [x] Add routes for Terms, Privacy, and Responsible Learning pages
- [x] All legal pages accessible and working


## Current Priority Tasks
- [x] Enhance About page with deep detailed content
- [ ] Remove Manus branding from UI (keep functionality)
- [x] Update deployment docs for Railway
- [x] Push to GitHub (https://github.com/ashwin24121995/picknlearn)
- [ ] Provide Railway deployment instructions


## Port Configuration
- [x] Update server to run on port 8080
- [x] Update deployment docs with port configuration
- [x] Test server on port 8080
- [x] Push changes to GitHub


## Authentication System Replacement (COMPLETED)
- [x] Remove all Manus OAuth dependencies and imports
- [x] Remove Manus auth environment variables from code
- [x] Implement custom email/password authentication
- [x] Create user registration endpoint with password hashing
- [x] Create login endpoint with JWT token generation
- [x] Create logout endpoint
- [x] Update user table schema for email/password auth
- [x] Create auth middleware for protected routes
- [x] Update frontend auth context to use custom auth
- [x] Update login/register UI components
- [x] Update all protected pages to use custom auth
- [x] Remove Manus branding from UI
- [ ] Test registration flow (ready for user testing)
- [ ] Test login flow (ready for user testing)
- [ ] Test protected routes (ready for user testing)
- [ ] Update Railway environment variables (ready for deployment)


## Password Reset Feature (COMPLETED)
- [x] Create password reset endpoint (verify email exists)
- [x] Create new password update endpoint
- [x] Add password reset page UI
- [x] Add "Forgot Password?" link to login page
- [x] Test password reset flow
- [ ] Update deployment documentation


### Add Header/Footer to Auth Pages (COMPLETED)
- [x] Add Navigation header to Login page
- [x] Add Navigation header to Register page
- [x] Add Navigation header to Forgot Password page
- [x] Add Footer to Login page
- [x] Add Footer to Register page
- [x] Add Footer to Forgot Password page
- [x] Test navigation on all auth pages
- [x] Make header and footer glossy/glassy with premium styling


## Remove All Remaining Manus References (COMPLETED)
- [x] Remove ManusDialog component
- [x] Update QuizDetail to use /login instead of /api/oauth/login
- [x] Replace getLoginUrl() with direct /login links
- [x] Update useAuth hook to redirect to /login
- [x] Update DashboardLayout to use /login
- [x] Update Dashboard to use /login
- [x] Remove oAuthServerUrl from env.ts
- [x] Update test files to remove loginMethod field
- [ ] Test all authentication flows


## Fix Railway Deployment Error (IN PROGRESS)
- [x] Investigate "Failed to construct 'URL': Invalid URL" error - caused by old build with Manus OAuth
- [x] Check environment variables in Railway - need to remove old Manus vars
- [x] Fix URL construction in const.ts or other files - already fixed in latest code
- [x] Create deployment fix guide with correct env vars
- [x] Analyzed logs: Build fails with "secret JWT_SECRET not found"
- [ ] Fix: Use Variable Reference instead of direct DATABASE_URL
- [ ] User needs to: Update DATABASE_URL to use ${{MySQL.DATABASE_URL}}
- [ ] User needs to: Ensure JWT_SECRET is set in picknlearn service (not MySQL)
- [ ] User needs to: Trigger redeploy after fixing variables
- [ ] User needs to: Test deployment after Railway rebuilds


## Fix Railway Build-Time Environment Variable Issue (COMPLETED)
- [x] Investigate why JWT_SECRET is required during build phase - esbuild was evaluating env vars
- [x] Check server/_core/env.ts for build-time validation - found direct process.env access
- [x] Move env validation to runtime only (not during build) - converted to getter functions
- [x] Test build locally without JWT_SECRET - build succeeds
- [ ] Deploy fix to Railway
- [ ] Verify deployment succeeds


## Deep Investigation of Railway Build Error (COMPLETED)
- [x] Analyze latest Railway logs to identify exact failure point
- [x] Check if esbuild is bundling env.ts incorrectly - found auth-utils.ts
- [x] Look for other files accessing process.env during build - found JWT_SECRET in auth-utils.ts
- [x] Fixed auth-utils.ts to use lazy-loaded getJwtSecret() function
- [x] Test build without env vars - succeeds
- [ ] Push fix to Railway
- [ ] Verify deployment succeeds


## Comprehensive Code Audit for Railway Build (CRITICAL)
- [ ] Check all TypeScript files for process.env access
- [ ] Check package.json scripts for env usage
- [ ] Check if any imports trigger env access at module load
- [ ] Verify esbuild configuration
- [ ] Check for any top-level await or immediate execution
- [ ] Test build in completely clean environment
- [ ] Consider alternative: use Dockerfile instead of Nixpacks


## Remove All Manus-Specific Code (COMPLETED)
- [x] Search for Manus function imports (LLM, storage, etc.)
- [x] Remove storage.ts (storagePut/storageGet)
- [x] Remove _core/llm.ts (invokeLLM)
- [x] Remove _core/notification.ts (notifyOwner)
- [x] Remove _core/voiceTranscription.ts (transcribeAudio)
- [x] Remove _core/imageGeneration.ts (generateImage)
- [x] Remove _core/dataApi.ts
- [x] Remove _core/map.ts
- [x] Update systemRouter to remove notifyOwner
- [x] Create MySQL schema file (database-schema.sql)
- [x] Test build without Manus dependencies - SUCCESS


## Fix Railway Docker Build - Patches Directory (COMPLETED)
- [x] Update Dockerfile to copy patches directory before pnpm install
- [x] Added COPY patches ./patches before dependencies stage
- [ ] Push fix to Railway
- [ ] Verify deployment succeeds


## Debug Railway Registration Failure (COMPLETED)
- [x] Check Railway deployment logs for backend errors
- [x] Verify database tables were created successfully - NO TABLES EXIST
- [x] Root cause: Database is empty, no tables created
- [x] Create automatic database initialization script
- [x] Update Railway startup to run migrations automatically (pnpm db:push before start)
- [ ] Deploy and test registration after tables are created


## Manually Create Tables on Railway (URGENT)
- [ ] Navigate to Railway MySQL service
- [ ] Use Railway CLI or MySQL client to run database-schema.sql
- [ ] Verify all 16 tables are created
- [ ] Test registration after tables exist


## Fix Registration Bug on Railway (CRITICAL - IN PROGRESS)
- [x] Verified database tables exist and are correct
- [x] Verified environment variables are set (DATABASE_URL, JWT_SECRET, NODE_ENV)
- [x] Checked server logs - no detailed errors visible
- [x] Fix tRPC input format in AuthContext.tsx (line 69) - needs { input: {...} } wrapper
- [x] Found crash cause: drizzle.config.ts missing from Docker build
- [x] Fix Dockerfile to include drizzle.config.ts
- [x] Found second crash: db:push fails because tables already exist
- [x] Remove db:push from start script (tables already created)
- [ ] Push fix and test deployment
- [ ] Test registration after fix
